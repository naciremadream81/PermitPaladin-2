# PermitPaladin Production Environment Configuration
# Copy this file to .env and update the values for your home server

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Generate a secure session secret: openssl rand -hex 32
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Session configuration
SESSION_COOKIE_SECURE=false  # Set to true if using HTTPS
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_COOKIE_MAX_AGE=86400000  # 24 hours in milliseconds

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# For local PostgreSQL (home server)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=permitpaladin
DB_USER=permitpaladin
DB_PASSWORD=permitpaladin123

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_POOL_ACQUIRE_TIMEOUT_MS=60000

# For cloud databases (optional)
# DATABASE_URL=postgresql://user:password@host:port/database

# =============================================================================
# FILE STORAGE
# =============================================================================
FILE_STORAGE_PATH=./uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,txt

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=info  # debug, info, warn, error
LOG_FORMAT=json  # json, simple
ENABLE_REQUEST_LOGGING=true
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# PERFORMANCE & CACHING
# =============================================================================
ENABLE_COMPRESSION=true
ENABLE_CORS=false  # Set to true if serving from different domain
CACHE_CONTROL_MAX_AGE=3600  # 1 hour in seconds

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
AUTO_CLEANUP_DAYS=90  # Clean up old files after 90 days

# =============================================================================
# EXTERNAL SERVICES (OPTIONAL)
# =============================================================================
# Google Cloud Storage (if migrating from local storage)
# GOOGLE_CLOUD_PROJECT=your-project-id
# GOOGLE_CLOUD_BUCKET=your-bucket-name
# GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json

# Email notifications (optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# =============================================================================
# DEVELOPMENT OVERRIDES (set to false in production)
# =============================================================================
ENABLE_DEBUG_MODE=false
ENABLE_DEV_TOOLS=false
